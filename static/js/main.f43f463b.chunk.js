(this.webpackJsonpsnpandme=this.webpackJsonpsnpandme||[]).push([[0],{120:function(e,t,n){e.exports=function(){return new Worker(n.p+"8f7c0f4ef30028ce7d5f.worker.js")}},128:function(e,t,n){"use strict";n.r(t);var r=n(18),a=n.n(r),i=n(27),c=n(0),o=n(10),s=n.n(o),l=n(98),u=n(195),d=n(6),p=n(186),b=n(187),j=n(193),h=n(97),f=n.n(h),m=n(52),g=n(15),O=n(99),x=n(168),v=n(93),y=n.n(v),w=n(92),k=n.n(w),S=n(102),P=n(175),F=n(132),N=n(176),A=n(191),C=n(49),I=n(50),D=n(86),E=n.n(D),L=n(39),R=Object(L.b)({name:"PopulationType",initialState:{population:"European"},reducers:{setPopulation:function(e,t){e.population=t.payload}}}),z=R.actions.setPopulation,W=function(e){return e.population.population},H=R.reducer,U=Object(L.b)({name:"Filename",initialState:{filename:""},reducers:{setFilename:function(e,t){e.filename=t.payload}}}),M=U.actions.setFilename,q=function(e){return e.filename.filename},B=U.reducer,T=Object(L.b)({name:"Loading",initialState:{loading:!1},reducers:{setLoading:function(e,t){e.loading=t.payload}}}),G=T.actions.setLoading,_=function(e){return e.loading.loading},Y=T.reducer,J=Object(L.b)({name:"Paging",initialState:{page:0,rowPerPage:50},reducers:{setPage:function(e,t){e.page=t.payload},setRowPerPage:function(e,t){e.rowPerPage=t.payload}}}),Q=J.actions,V=Q.setPage,K=Q.setRowPerPage,$=function(e){return e.paging},X=J.reducer,Z=Object(L.b)({name:"Snps",initialState:{list:[]},reducers:{setSnps:function(e,t){e.list=t.payload}}}),ee=Z.actions.setSnps,te=function(e){return e.snps},ne=Z.reducer,re="#FFFAAA",ae="#FFAAAA",ie="#A0A0FF",ce="#FFFFFF",oe="Frequency",se=n(80),le=function(){function e(t,n){var r=this;Object(C.a)(this,e),this.list=void 0,this.list=[],t.split("\n").forEach((function(e){if(e.startsWith("rs")){var t=e.split("\t").map((function(e){return e.trim()}));if(4===t.length){var a=t[1].toUpperCase();(void 0===n||n.findIndex((function(e){return e===a}))>=0)&&t[3].match(/[AGCT]/)&&!Number.isNaN(Number(t[2]))&&r.list.push({id:t[0],chr:a,bases:t[3].toUpperCase()})}}}))}return Object(I.a)(e,[{key:"snpList",get:function(){return this.list}},{key:"snpChromosome",value:function(e){return e=e.trim().toUpperCase(),this.list.filter((function(t){return t.chr===e}))}}],[{key:"fromFile",value:function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!se.existsSync(n)){t.next=4;break}return t.abrupt("return",new Promise((function(t,r){se.readFile(n,{},(function(n,a){n&&r(n);var i=new e(a.toString());t(i)}))})));case 4:throw new Error("file ".concat(n," noy found!"));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),ue=new E.a,de={ID:function(e,t){var n=parseInt(e.snp.id.substr(2)),r=parseInt(t.snp.id.substr(2));return n-r},Chromosome:function(e,t){return be(e,t,"chr")},Base:function(e,t){return be(e,t,"bases")},Frequency:function(e,t){var n,r,a=null!==(n=e.perc)&&void 0!==n?n:2,i=null!==(r=t.perc)&&void 0!==r?r:2;return a-i},Publications:function(e,t){return e.pub-t.pub}},pe=function(){function e(t){Object(C.a)(this,e),this.worker=null,this.update=void 0,this.list=[],this.sortId=oe,this.sortDir="asc",this.update=t}return Object(I.a)(e,[{key:"Evaluate",value:function(){var e=Object(i.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new ue.default(n);case 2:return this.worker=e.sent,r=new le(t,["Y","MT"]),e.next=6,this.worker.Evaluate(r.snpList);case 6:this.list=e.sent,this.worker=null,this.doSort(),this.sendUpdate();case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sort",value:function(e,t){this.sortId=e,this.sortDir=t,this.doSort(),this.sendUpdate()}},{key:"doSort",value:function(){var e=this,t="asc"===this.sortDir?1:-1;this.list=this.list.sort((function(n,r){return t*de[e.sortId](n,r)}))}},{key:"sendUpdate",value:function(){var e=this.list.map((function(e){return Object(m.a)({},e)}));this.update(e)}}]),e}();function be(e,t,n){return e.snp[n]>t.snp[n]?1:-1}var je=n(13),he=n(170),fe=n(172),me=n(173),ge=n(196),Oe=n(3),xe=Object(x.a)((function(e){return{table:{width:"100%"},container:{},header:{background:"#FAFAFA",fontWeight:"bold"}}})),ve=[{id:"ID",align:"left",text:"SNP id"},{id:"Chromosome",align:"right",text:"Chromosome"},{id:"Base",align:"right",text:"Base"},{id:"Frequency",align:"right",text:"Frequency"},{id:"Publications",align:"right",text:"Publications"}];function ye(e){var t=e.sort,n=xe(),r=Object(c.useState)(oe),a=Object(g.a)(r,2),i=a[0],o=a[1],s=Object(c.useState)("asc"),l=Object(g.a)(s,2),u=l[0],d=l[1];return Object(Oe.jsx)(he.a,{children:Object(Oe.jsx)(fe.a,{children:ve.map((function(e){return Object(Oe.jsx)(me.a,{align:e.align,className:n.header,children:Object(Oe.jsx)(ge.a,{active:i===e.id,direction:u,onClick:function(){return function(e){var n="asc";i===e&&(n="asc"===u?"desc":"asc"),o(e),d(n),t(e,n)}(e.id)},children:e.text})},e.id)}))})})}var we=n(174),ke=Object(x.a)((function(e){return{undefined:{background:"#AAAAAA"},novalue:{background:ce},high:{background:ie},mid:{background:re},low:{background:ae}}}));function Se(e){var t=e.list,n=ke(),r=Object(je.c)($),a=function(e){var t=n.undefined;return null!==e.perc?(t=n.high,e.perc<.5&&(t=n.mid),e.perc<.25&&(t=n.low)):t=n.novalue,t};return Object(Oe.jsx)(we.a,{children:t.filter((function(e,t){return t>=r.page*r.rowPerPage&&t<(r.page+1)*r.rowPerPage})).map((function(e){return Object(Oe.jsxs)(fe.a,{className:a(e),children:[Object(Oe.jsx)(me.a,{component:"th",scope:"row",children:Object(Oe.jsx)("a",{target:"_blank",href:"https://www.ncbi.nlm.nih.gov/snp/".concat(e.snp.id),rel:"noreferrer",children:e.snp.id})}),Object(Oe.jsx)(me.a,{align:"right",children:e.snp.chr}),Object(Oe.jsx)(me.a,{align:"right",children:e.snp.bases}),Object(Oe.jsx)(me.a,{align:"right",children:null!==e.perc?e.perc.toFixed(2):"-"}),Object(Oe.jsxs)(me.a,{align:"right",children:[e.pub," "]})]},e.snp.id)}))})}var Pe=n(51),Fe=Object(x.a)((function(e){return{table:{width:"100%"},container:{},pagination:{width:"100%"}}})),Ne={maxHeight:"calc(100% - 3em)"};function Ae(e){var t=e.data,n=Fe(),r=Object(c.useRef)(null),a=Object(je.b)(),i=Object(je.c)(te),o=Object(je.c)(W),s=Object(je.c)($),l=Object(Pe.b)();Object(c.useEffect)((function(){r.current||(r.current=new pe((function(e){a(ee(e)),a(G(!1))}))),a(G(!0)),r.current.Evaluate(t,o)}),[t,a,o]);var u=Object(c.useCallback)((function(e,t){r.current&&r.current.sort(e,t),l&&l.event("Data Sort",e,"")}),[l]),d=Object(c.useCallback)((function(e,t){a(V(t))}),[a]),p=Object(c.useCallback)((function(e){a(K(+e.target.value))}),[a]);return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(P.a,{component:F.a,className:n.container,style:Ne,children:Object(Oe.jsxs)(N.a,{className:n.table,size:"small",stickyHeader:!0,"aria-label":"simple table",children:[Object(Oe.jsx)(ye,{sort:u}),Object(Oe.jsx)(Se,{list:i.list})]})}),Object(Oe.jsx)(A.a,{className:n.pagination,rowsPerPageOptions:[50,100,200,500],component:"div",count:i.list.length,rowsPerPage:s.rowPerPage,page:s.page,onChangePage:d,onChangeRowsPerPage:p})]})}var Ce=Object(x.a)((function(e){return{root:{width:"100%",height:"100%",padding:"4px"},drop:{width:"100%",height:"100%",borderWidth:"2px",borderStyle:"dotted",borderColor:e.palette.primary.light,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column","&:hover":{borderColor:e.palette.primary.dark},"& .AddIcn":{fontSize:80,color:e.palette.primary.light},"&:hover .AddIcn":{fontSize:80,color:e.palette.primary.dark},"& .text":{textAlign:"center",color:e.palette.primary.light},"&:hover .text":{textAlign:"center",color:e.palette.primary.dark}},noDisplay:{display:"none"}}}));function Ie(){var e=Ce(),t=Object(c.useState)(null),n=Object(g.a)(t,2),r=n[0],o=n[1],s=Object(c.useState)(null),l=Object(g.a)(s,2),u=l[0],d=l[1],p=Object(je.b)(),b=Object(Pe.b)();Object(c.useEffect)((function(){b&&b.pageview("main")}),[]);var j=Object(c.useCallback)(function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t.filter((function(e){return e.path&&(e.path.toLowerCase().endsWith(".txt")||e.path.toLowerCase().indexOf(".23andme.")>0)}))).length>0)){e.next=9;break}return r=n[0],e.next=5,De(r);case 5:Le(i=e.sent)?(o(i),p(M(r.name)),p(V(0)),b&&b.event("Valid File Load","valid file","")):(o(null),d("".concat(r.name," is not valid")),b&&b.event("Invalid File Content","invalid file content","")),e.next=12;break;case 9:o(null),d("unable to load ".concat(t[0].name)),b&&b.event("Invalid File Type","invalid file type","");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,p]),h=Object(O.a)({onDrop:j}),f=h.getRootProps,x=h.getInputProps,v=h.isDragActive;return Object(Oe.jsx)("div",{className:e.root,children:Object(Oe.jsxs)("div",Object(m.a)(Object(m.a)({},f()),{},{className:e.root,children:[Object(Oe.jsxs)("div",{className:v?e.drop:e.noDisplay,children:[Object(Oe.jsx)(k.a,{className:"AddIcn"}),Object(Oe.jsx)(S.a,{className:"text",children:"Drop the file here."})]}),null!==r?Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(Ae,{data:r})}):Object(Oe.jsxs)("div",{className:v?e.noDisplay:e.drop,children:[Object(Oe.jsx)("input",Object(m.a)({},x())),Object(Oe.jsx)(y.a,{className:"AddIcn"}),null!==u?Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(S.a,{className:"text",children:["\ud83d\udd90 ",u]})}):Object(Oe.jsx)(Oe.Fragment,{}),Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(S.a,{className:"text",children:"Drag and Drop here your 23andme txt file."}),Object(Oe.jsx)(S.a,{className:"text",children:"or click here to select the file."})]})]})]}))})}function De(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.onloadend=function(){return e(n.result)},n.readAsText(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return e.indexOf("This data file generated by 23andMe")>0&&e.indexOf("# rsid\tchromosome\tposition\tgenotype")>0}var Re=n(180),ze=n(177),We=n(188),He=n(95),Ue=n.n(He),Me=n(94),qe=n.n(Me),Be=Object(x.a)((function(e){return Object(u.a)({iconDisplay:{marginRight:e.spacing(2),marginLeft:e.spacing(4),color:"white"},iconHidden:{display:"none"}})}));function Te(){var e=Be(),t=Object(je.c)(te),n=Object(je.c)(_),r=n,a=!n&&t.list.length>0;return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(We.a,{position:"relative",display:"inline-flex",children:Object(Oe.jsxs)(We.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:[Object(Oe.jsx)(qe.a,{className:r?e.iconDisplay:e.iconHidden,fontSize:"large"}),Object(Oe.jsx)(Ue.a,{className:a?e.iconDisplay:e.iconHidden,fontSize:"large"})]})})})}var Ge=Object(x.a)((function(e){return Object(u.a)({margin:{marginRight:e.spacing(2)},boxHidden:{display:"none"},boxDisplay:{display:"inline-flex"}})}));function _e(){var e=Ge(),t=Object(je.c)(te),n=Object(je.c)(_),r=0,a=0,i=0,c=0,o=t.list.length>0,s=n?"-----":t.list.length.toString();t.list.forEach((function(e){return null!==e.perc?e.perc<.25?i++:e.perc<.5?a++:r++:c++}));var l=function(e){var t=[],n=e.reduce((function(e,t){return e+t}),0);if(n>0){var r=e.map((function(e){return Math.floor(100*e/n)})),a=100-r.reduce((function(e,t){return e+t}),0);r[r.length-1]+=a,t=r.map((function(e){return"".concat(e,"%")}))}return t}([i,a,r,c]),u=[ae,re,ie,ce],d=n?"--":i.toString();return Object(Oe.jsxs)(We.a,{position:"relative",className:o?e.boxDisplay:e.boxHidden,children:[Object(Oe.jsxs)(S.a,{align:"center",variant:"caption",color:"secondary",className:e.margin,noWrap:!0,children:[" ","".concat(s," Snps, ").concat(d," low frequency")]}),Object(Oe.jsx)(We.a,{top:20,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",className:e.margin,children:l.map((function(e,t){return Object(Oe.jsx)("div",{style:{background:u[t],position:"relative",width:e,height:"5px"}},t)}))})]})}var Ye=n(192),Je=n(197),Qe=Object(x.a)((function(e){return Object(u.a)({combobox:{marginRight:e.spacing(2),background:"transparent"},textColor:{color:"white",borderWidth:"1px",borderColor:"white !important"},icon:{fill:"white"}})}));function Ve(){var e=Qe(),t=Object(je.c)(W),n=Object(je.b)(),r=["European","African","East Asian","South Asian"],a=["European","African","SAsian","EAsian"],i=r[a.indexOf(t)];return Object(Oe.jsx)(Ye.a,{className:e.combobox,variant:"outlined",size:"small",select:!0,value:i,onChange:function(e){var t,i=a[r.indexOf(null!==(t=e.target.value)&&void 0!==t?t:"European")];n(z(i))},InputProps:{classes:{root:e.textColor,notchedOutline:e.textColor}},SelectProps:{classes:{icon:e.icon}},children:r.map((function(e){return Object(Oe.jsx)(Je.a,{value:e,children:e},e)}))})}var Ke=Object(x.a)((function(e){return Object(u.a)({root:{flexGrow:1},toolbar:{display:"flex",justifyContent:"space-between"},toolList:{display:"flex",alignItems:"center"}})}));function $e(){var e=Ke(),t=Object(je.c)(q);return Object(Oe.jsx)("div",{className:e.root,children:Object(Oe.jsx)(Re.a,{position:"static",children:Object(Oe.jsxs)(ze.a,{variant:"dense",className:e.toolbar,children:[Object(Oe.jsxs)(S.a,{variant:"h6",color:"inherit",noWrap:!0,children:["SNPs and Me ",t.length>0?"[".concat(t,"]"):""]}),Object(Oe.jsxs)("div",{className:e.toolList,children:[Object(Oe.jsx)(Ve,{}),Object(Oe.jsx)(_e,{}),Object(Oe.jsx)(Te,{})]})]})})})}var Xe=n(73),Ze=Object(x.a)((function(e){return{version:{position:"absolute",left:"14px",bottom:"0px",fontSize:"12px",color:e.palette.primary.main},ribbon:{position:"absolute",right:"0px",top:"0px"}}})),et=function(e){var t=e.label,n=e.baseURL,r=e.forkme,a=Ze();return Object(Oe.jsxs)(Oe.Fragment,{children:[r&&n&&Object(Oe.jsx)("div",{className:a.ribbon,children:Object(Oe.jsx)("a",{href:n,children:Object(Oe.jsx)("img",{width:"100",height:"100",src:"https://github.blog/wp-content/uploads/2008/12/forkme_right_red_aa0000.png?resize=100%2C100",alt:"Fork me on GitHub"})})}),Object(Oe.jsx)("div",{className:a.version,onClick:function(){n&&""!==Xe.long&&(window.location.href=n+"/tree/"+Xe.long)},children:Object(Oe.jsx)("p",{children:t+Xe.version})})]})},tt=n(185),nt=n(194),rt=n(184),at=n(182),it=n(183),ct=n(181),ot=n(96),st="SnpsAndMeHelpReadStatus",lt="Read",ut=function(){var e=Object(c.useState)(!function(){var e=!1;try{var t=localStorage.getItem(st);t&&(e=t===lt)}catch(n){}return e}()),t=Object(g.a)(e,2),n=t[0],r=t[1],a=function(){r(!1)};return Object(Oe.jsxs)(nt.a,{open:n,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"lg",children:[Object(Oe.jsx)(ct.a,{id:"alert-dialog-title",children:"SNPs and Me"}),Object(Oe.jsxs)(at.a,{children:[Object(Oe.jsxs)(it.a,{id:"alert-dialog-description",children:["Drag and drop your 23andme file and the browser will color code the part of the genome (called ",Object(Oe.jsx)("a",{href:"https://en.wikipedia.org/wiki/Single-nucleotide_polymorphism",children:"SNP"}),") based on their frequency. You will be able to find the part which are ",Object(Oe.jsx)("i",{children:"rare among the population"})," and so the ones which make you ",Object(Oe.jsx)("i",{children:"unique"})," !",Object(Oe.jsx)("br",{}),Object(Oe.jsx)("br",{}),"Click on the SNP ID to find out information about it from the ",Object(Oe.jsx)("a",{href:"https://www.ncbi.nlm.nih.gov/",children:"National Center for Biochnology Information"}),"."]}),!ot.isMobile&&Object(Oe.jsx)(it.a,{id:"alert-dialog-description",align:"center",children:Object(Oe.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/lUS8Q2-EbyY",title:"Snp and me",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),Object(Oe.jsxs)(it.a,{id:"alert-dialog-description",children:[Object(Oe.jsx)("b",{children:"\ud83d\udd90 Privacy Statement:"})," this application ",Object(Oe.jsx)("u",{children:Object(Oe.jsx)("i",{children:"does not"})})," store nor transmit your genomic information. All the analysis is done locally in your browser."]})]}),Object(Oe.jsxs)(rt.a,{children:[Object(Oe.jsx)(tt.a,{onClick:a,color:"primary",children:"close"}),Object(Oe.jsx)(tt.a,{onClick:function(){a(),function(){try{localStorage.setItem(st,lt)}catch(e){}}()},color:"primary",autoFocus:!0,children:"dismiss forever"})]})]})};var dt=Object(l.a)({palette:{primary:f.a,secondary:{main:"#fff"},background:{default:"#fff"}}}),pt=Object(d.a)((function(e){return Object(u.a)({app:{textAlign:"center"},main:{position:"absolute",top:"55px",right:"0px",left:"0px",bottom:"0px",background:"white",display:"flex",justifyContent:"center",alignItems:"center"}})}))((function(e){var t=e.classes;return Object(Oe.jsxs)(p.a,{theme:dt,children:[Object(Oe.jsx)(b.a,{}),Object(Oe.jsxs)("div",{className:t.app,children:[Object(Oe.jsx)($e,{}),Object(Oe.jsx)("div",{className:t.main,children:Object(Oe.jsx)(Ie,{})}),Object(Oe.jsx)(j.a,{smDown:!0,children:Object(Oe.jsx)(et,{label:"version : ",forkme:!1,baseURL:"https://github.com/VittorioAccomazzi/snpsandme"})}),Object(Oe.jsx)(ut,{})]})]})})),bt=Object(L.a)({reducer:{population:H,snps:ne,filename:B,loading:Y,paging:X}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jt=new Pe.a("G-QK0MGYD60T",void 0,void 0,3e4);(function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt.initialize();case 2:s.a.render(Object(Oe.jsx)(je.a,{store:bt,children:Object(Oe.jsx)(pt,{})}),document.getElementById("root"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e){e.exports=JSON.parse('{"version":"a16b43f\\n","long":"a16b43f522c0d1fb11018fd30a8203d1836733d0\\n"}')},86:function(e,t,n){var r,a=n(129).wrap,i=n(120);e.exports=function e(){return this instanceof e?a(i()):r||(r=a(i()))}}},[[128,1,2]]]);
//# sourceMappingURL=main.f43f463b.chunk.js.map